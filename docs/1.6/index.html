<!DOCTYPE html>
<html lang="en">
    <head>
        <title>1.6 Extensions and loops</title>

        <!-- Dosato prism support -->
        <link rel="stylesheet" href="../../main.css">
        <link rel="stylesheet" href="../../prism/prism-okaidia.css">
        <script src="../../prism/prism.js"></script>
        <script src="../../prism/prism-dosato.js"></script>
        <script src="../../dark-mode.js" defer></script>
    
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                Prism.highlightAll();
            });
        </script>
    </head>
    <body>
        <header>
            <a href="../../index.html">Return to homepage</a>
            <h2>DOSATO</h2>
            <p>
                <button id="dark-mode-toggle">ðŸŒ™</button>
                Copyright &copy 2024 Sebastiaan Heins</p>
        </header>
        
        <h1>1.6 Extensions and loops</h1>
        
        <h2>Extensions</h2>

        <p>
            Extension keywords are used to extend the functionality of the do keyword. <br>
            There are 8 extensions:
        </p>

        <!-- Code Block -->
        <pre>
<code class="language-dosato">when
if
else
while
for
then
catch</code></pre>

        <p>
            Extensions are used to create conditional statements, loops and error handling. <br>
            Extensions are always followed by some kind of expression or a block of code. <br>
        </p>

        <h2>when else</h2>


        <p>
            when is used to create a conditional statement. <br>
            when is followed by a boolean expression, a block of code and an optional else block. <br>
            The boolean expression is evaluated and if it is true, the block of code is executed. <br>
            If the boolean expression is false, the else block is executed. <br>
            Example of a when statement with an else extension:
        </p>
        
        <!-- Code block -->
        <pre>
<code class="language-dosato">do {
    do say ("Access granted")
} when (password == "1234") else {
    do say ("Access denied")
}</code></pre>

        <p>
            when encapsulates the entire block of code, if the condition is true, the block is executed. <br>
            Otherwise, nothing before it is executed. <br>
        </p>

        <!-- Code block -->
        <pre>
<code class="language-dosato">do say ("Will not run") then say ("Will also not run") when (false)</code></pre>

        <p>
            When doesn't need the parentheses.
        </p>

        <!-- Code block -->
        <pre>
<code class="language-dosato">do say ("Will run") when true</code></pre>


        <h2>while loops</h2>

        <p>
            while is used to create a loop. <br>
            while is followed by a boolean expression and a block of code. <br>
            The boolean expression is evaluated and if it is true, the block of code is executed. <br>
            The boolean expression is evaluated again and if it is true, the block of code is executed again. <br>
            This process repeats until the boolean expression is false. <br>
            Example of a while loop:
        </p>

        <!-- Code block -->
        <pre>
<code class="language-dosato">make int i = 0
do {
    do sayln (i)
    set i++
} while (i < 10)</code></pre>

        <p>
            This loop will print the numbers 0 to 9 to the console. <br>
            The variable <code>i</code> is incremented by 1 each time the loop is executed. <br>
            The loop will stop when <code>i</code> is equal to 10. <br><br>

            Just like with when, while doesn't need the parentheses, and encapsulates the entire block of code.
        </p>

        <!-- Code block -->
        <pre>
<code class="language-dosato">make int i = 0
do sayln (i) then {set i++} while i < 10</code></pre>


        <h2>for</h2>

        <!-- Code block -->
        <pre><code class="language-dosato">make int i = 0
do sayln (i) for (range(100) => i)</code></pre>

        <p>
            for loops are used to iterate over an array, in this example, the <code>range(100)</code> function returns an array of numbers from 0 to 99. <br>
            The for loop will iterate over the array and assign the current value to the variable <code>i</code>. <br>
            The variable <code>i</code> is then printed to the console. <br>

            You can use the <code>_</code> variable after the => to discard the value, and just loop as many times as the length of the array <br>
        </p>

        <!-- Code block -->
        <pre><code class="language-dosato">do sayln ("Hello world!") for (range(10) => _)</code></pre>
        
        <h2>then</h2>

        <p>
            then is used to immediately execute a function after the previous function has finished. <br>
            then is followed by a function call. <br>
            Example of a then statement:
        </p>

        <!-- Code block -->
        <pre>
<code class="language-dosato">do say ("Hello world!") then say ("Hello again!")</code></pre>

        <p>
            This will print <code>Hello world!</code> and then <code>Hello again!</code> to the console. <br>
            The second <code>say</code> function is executed after the first <code>say</code> function has finished. <br>
        </p>
        

        <h2>if</h2>

        <pre>
<code class="language-dosato">do if (condition) then sayln ("Access granted") else sayln ("Access denied")</code></pre>
        

        <p>
            if is used to create a conditional statement. <br>
            if is followed by a boolean expression, a then extension and an optional else extension. <br>
            The boolean expression is evaluated and if it is true, the block of code is executed. <br>
            If the boolean expression is false, the else block is executed.<br>
            If only encapsulates the next statement, not the entire block.
        </p>

        <!-- Code block -->
        <pre>
<code class="language-dosato">do if (true) then sayln ("Will print when the condition is true") then sayln ("Will always print regardless")</code></pre>

        <p>
            You can chain else and ifs together.
        </p>

        <!-- Code block -->
        <pre>
<code class="language-dosato">make bool result = listen("True or False?\n") == "true" 
do if result then {
    do say("Hello, World!")
} else if !result then {
    do say("Goodbye, World!")
} else {
    do say("This should never happen.")
}</code></pre>

        <h2>catch</h2>

        <p>
            catch is used to catch errors. <br>
            catch is followed by a block of code. <br>
            Example of a catch statement:
        </p>

        <!-- Code block -->
        <pre>
<code class="language-dosato">do {
    do say (undfined_variable) // This will throw an error
} catch {
    do say ("An error occured!\n Code: " + _)
}</code></pre>

        <p>
            If an error occurs in the block of code, <code>An error occured!</code> will be printed to the console. <br>
            The error code is stored in the <code>_</code> variable. <br>
            More information about error handling can be found in <a href="../1.10/index.html">1.10 Error handling</a>. <br>
        </p>

        <h2>Extension chaining</h2>

        <p>
            Extensions can be chained together. <br>
            Example of a chained statement:
        </p>

        <!-- Code block -->
        <pre>
<code class="language-dosato">do {
    do say ("Access granted")
} then login() when (password == "1234") else {
    do say ("Access denied")
}</code></pre>

        <p>
            This will call the <code>login</code> function after the <code>say</code> function has finished. <br>
            This only happens when when is true, the when statement includes the entire block<br>
            If the password is not <code>1234</code>, <code>Access denied</code> will be printed to the console. <br>
        </p>

        <div class="info">
            <p>
                <strong>Info!</strong> <br>
                You can learn more about extensions in <a href="../2.3/index.html">2.3 do extensions</a> <br>
            </p>
        </div>

        <div id="footer-select">
            <a href="../1.5/index.html"> << 1.5 Functions</a> || <a href="../1.7/index.html"> >> 1.7 Scopes</a>
        </div>



    </body>
</html>